{"ast":null,"code":"var _jsxFileName = \"/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\nimport { selectCartItems, selectCartTotal } from \"../../redux/cart/cart.selectors\";\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst CheckoutPage = ({\n  cartItems,\n  total\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-page\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-header\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }\n}, \"Product\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }\n}, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }\n}, \"Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }\n}, \"Price\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }\n}, \"Remove\"))), cartItems.map(cartItem => /*#__PURE__*/React.createElement(CheckoutItem, {\n  key: cartItem.id,\n  cartItem: cartItem,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"total\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }\n}, \"TOTAL: \", total)), /*#__PURE__*/React.createElement(\"button\", {\n  id: \"checkout-button\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }\n}, \"Checkout\"), /*#__PURE__*/React.createElement(\"script\", {\n  src: \"https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(\"script\", {\n  src: \"https://js.stripe.com/v3/\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(\"script\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }\n}, \"// Create an instance of the Stripe object with your publishable API key stripe = Stripe(\\\"pk_test_51HrpSlHc1kG6xYQZhBCvLYfN6wLz0hlG8WxPKThhCYJolvOBUX95JALxXrEn2X8lgpGWxvGal9dyxX6C9AkYCrKc006b7vxJ0w\\\"); var checkoutButton = document.getElementById(\\\"checkout-button\\\"); checkoutButton.addEventListener(\\\"click\\\", function () \", fetch(\"/create-checkout-session\", {\n  method: \"POST\"\n}).then(function (response) {\n  return response.json();\n}).then(function (session) {\n  return stripe.redirectToCheckout({\n    sessionId: session.id\n  });\n}).then(function (result) {\n  // If redirectToCheckout fails due to a browser or network\n  // error, you should display the localized error message to your\n  // customer using error.message.\n  if (result.error) {\n    alert(result.error.message);\n  }\n}).catch(function (error) {\n  console.error(\"Error:\", error);\n}), \")\"));\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal\n});\nexport default connect(mapStateToProps)(CheckoutPage);","map":{"version":3,"sources":["/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx"],"names":["React","connect","createStructuredSelector","CheckoutItem","selectCartItems","selectCartTotal","CheckoutPage","cartItems","total","map","cartItem","id","fetch","method","then","response","json","session","stripe","redirectToCheckout","sessionId","result","error","alert","message","catch","console","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\n\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n} from \"../../redux/cart/cart.selectors\";\n\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\nconst CheckoutPage = ({ cartItems, total }) => (\n  <div className=\"checkout-page\">\n    <div className=\"checkout-header\">\n      <div className=\"header-block\">\n        <span>Product</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Description</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Quantity</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Price</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Remove</span>\n      </div>\n    </div>\n    {cartItems.map((cartItem) => (\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\n    ))}\n    <div className=\"total\">\n      <span>TOTAL: {total}</span>\n     \n    </div>\n    <button id=\"checkout-button\">Checkout</button>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch\"></script>\n    <script src=\"https://js.stripe.com/v3/\"></script>\n    <script>\n    // Create an instance of the Stripe object with your publishable API key\n    stripe = Stripe(\"pk_test_51HrpSlHc1kG6xYQZhBCvLYfN6wLz0hlG8WxPKThhCYJolvOBUX95JALxXrEn2X8lgpGWxvGal9dyxX6C9AkYCrKc006b7vxJ0w\");\n    var checkoutButton = document.getElementById(\"checkout-button\");\n    checkoutButton.addEventListener(\"click\", function () {\n      fetch(\"/create-checkout-session\", {\n        method: \"POST\",\n      })\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (session) {\n          return stripe.redirectToCheckout({ sessionId: session.id });\n        })\n        .then(function (result) {\n          // If redirectToCheckout fails due to a browser or network\n          // error, you should display the localized error message to your\n          // customer using error.message.\n          if (result.error) {\n            alert(result.error.message);\n          }\n        })\n        .catch(function (error) {\n          console.error(\"Error:\", error);\n        })\n        })\n  </script>\n  </div>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n});\n\nexport default connect(mapStateToProps)(CheckoutPage);\n"]},"metadata":{},"sourceType":"module"}