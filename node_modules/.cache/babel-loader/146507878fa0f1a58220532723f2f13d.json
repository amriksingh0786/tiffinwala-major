{"ast":null,"code":"var _jsxFileName = \"/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx\";\nimport React from \"react\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport axios from 'axios';\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\nimport { selectCartItems, selectCartTotal } from \"../../redux/cart/cart.selectors\";\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst CheckoutPage = ({\n  cartItems,\n  total\n}) => {\n  const handleClick = async () => {\n    const data = {\n      amount: Math.floor(Number(total) * 100),\n      currency: \"INR\"\n    };\n    const orderId = await axios.post('https://instant-parking.herokuapp.com/user/payment', data);\n\n    if (orderId.data.success) {\n      var options = {\n        key: \"rzp_test_2aFYEO0HWNiz6l\",\n        amount: Math.floor(Number(total) * 100),\n        currency: \"INR\",\n        name: \"Tiffinwala\",\n        description: \"Buy Food\",\n        image: \"https://eparking-frontend-gi6m8t8zo.vercel.app/assets/logo.png\",\n        order_id: orderId.data.data.id,\n        handler: res => {\n          alert(\"Purchased\");\n        },\n        theme: {\n          color: \"#3399cc\"\n        }\n      };\n      var rzp1 = new window.Razorpay(options);\n      rzp1.on(\"payment.failed\", res => {\n        alert(res.error.reason);\n      });\n      rzp1.open();\n    }\n  };\n\n  return;\n\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    className: \"checkout-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Product\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Price\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Remove\"))), cartItems.map(cartItem => /*#__PURE__*/React.createElement(CheckoutItem, {\n    key: cartItem.id,\n    cartItem: cartItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"TOTAL: \", total)), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"checkout-button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, \"Checkout\"));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal\n});\nexport default connect(mapStateToProps)(CheckoutPage);","map":{"version":3,"sources":["/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx"],"names":["React","Elements","loadStripe","connect","createStructuredSelector","axios","CheckoutItem","selectCartItems","selectCartTotal","CheckoutPage","cartItems","total","handleClick","data","amount","Math","floor","Number","currency","orderId","post","success","options","key","name","description","image","order_id","id","handler","res","alert","theme","color","rzp1","window","Razorpay","on","error","reason","open","map","cartItem","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport axios from 'axios'\n\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n} from \"../../redux/cart/cart.selectors\";\n\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst CheckoutPage = ({ cartItems, total }) =>{\n \nconst handleClick = async() => {\n  const data = {\n      amount: Math.floor(Number(total) * 100),\n      currency: \"INR\",\n    };\n\n    const orderId = await axios.post('https://instant-parking.herokuapp.com/user/payment', data);\n\n    if (orderId.data.success) {\n      var options = {\n        key: \"rzp_test_2aFYEO0HWNiz6l\",\n        amount: Math.floor(Number(total) * 100),\n        currency: \"INR\",\n        name: \"Tiffinwala\",\n        description: \"Buy Food\",\n        image: \"https://eparking-frontend-gi6m8t8zo.vercel.app/assets/logo.png\",\n        order_id: orderId.data.data.id,\n        handler: (res) => {\n         alert(\"Purchased\");\n        },\n        theme: {\n          color: \"#3399cc\",\n        },\n      };\n\n      var rzp1 = new window.Razorpay(options);\n      rzp1.on(\"payment.failed\", (res) => {\n        alert(res.error.reason);\n      });\n\n      rzp1.open();\n    }\n}\n\nreturn\n(\n  <div className=\"checkout-page\">\n    <div className=\"checkout-header\">\n      <div className=\"header-block\">\n        <span>Product</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Description</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Quantity</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Price</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Remove</span>\n      </div>\n    </div>\n  \n\n    {cartItems.map((cartItem) => (\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\n    ))}\n    \n    <div className=\"total\">\n      <span>TOTAL: {total}</span>\n     \n    </div>\n    \n    <button id=\"checkout-button\" onClick={handleClick}>Checkout</button>\n    \n    \n  </div>\n  \n)};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n});\n\nexport default connect(mapStateToProps)(CheckoutPage);\n"]},"metadata":{},"sourceType":"module"}