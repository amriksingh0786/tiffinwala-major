{"ast":null,"code":"var _jsxFileName = \"/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx\";\nimport React from \"react\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\nimport { selectCartItems, selectCartTotal } from \"../../redux/cart/cart.selectors\";\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst stripePromise = loadStripe('pk_test_JJ1eMdKN0Hp4UFJ6kWXWO4ix00jtXzq5XG');\n\nconst handleClick = async event => {\n  // Get Stripe.js instance\n  const stripe = await stripePromise; // Call your backend to create the Checkout Session\n\n  const response = await fetch('/create-checkout-session', {\n    method: 'POST'\n  });\n  const session = await response.json(); // When the customer clicks on the button, redirect them to Checkout.\n\n  const result = await stripe.redirectToCheckout({\n    sessionId: session.id\n  });\n\n  if (result.error) {// If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `result.error.message`.\n  }\n};\n\nconst CheckoutPage = ({\n  cartItems,\n  total\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-page\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-header\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }\n}, \"Product\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }\n}, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }\n}, \"Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }\n}, \"Price\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }\n}, \"Remove\"))), cartItems.map(cartItem => /*#__PURE__*/React.createElement(CheckoutItem, {\n  key: cartItem.id,\n  cartItem: cartItem,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"total\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 7\n  }\n}, \"TOTAL: \", total)), /*#__PURE__*/React.createElement(\"button\", {\n  id: \"checkout-button\",\n  onClick: handleClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }\n}, \"Checkout\"));\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal\n});\nexport default connect(mapStateToProps)(CheckoutPage);","map":{"version":3,"sources":["/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx"],"names":["React","Elements","loadStripe","connect","createStructuredSelector","CheckoutItem","selectCartItems","selectCartTotal","stripePromise","handleClick","event","stripe","response","fetch","method","session","json","result","redirectToCheckout","sessionId","id","error","CheckoutPage","cartItems","total","map","cartItem","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\n\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n} from \"../../redux/cart/cart.selectors\";\n\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst stripePromise = loadStripe('pk_test_JJ1eMdKN0Hp4UFJ6kWXWO4ix00jtXzq5XG');\nconst handleClick = async (event) => {\n  // Get Stripe.js instance\n  const stripe = await stripePromise;\n\n  // Call your backend to create the Checkout Session\n  const response = await fetch('/create-checkout-session', { method: 'POST' });\n\n  const session = await response.json();\n\n  // When the customer clicks on the button, redirect them to Checkout.\n  const result = await stripe.redirectToCheckout({\n    sessionId: session.id,\n  });\n\n  if (result.error) {\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `result.error.message`.\n  }}\nconst CheckoutPage = ({ cartItems, total }) => (\n  <div className=\"checkout-page\">\n    <div className=\"checkout-header\">\n      <div className=\"header-block\">\n        <span>Product</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Description</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Quantity</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Price</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Remove</span>\n      </div>\n    </div>\n    {cartItems.map((cartItem) => (\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\n    ))}\n    <div className=\"total\">\n      <span>TOTAL: {total}</span>\n     \n    </div>\n    \n    <button id=\"checkout-button\" onClick={handleClick}>Checkout</button>\n    \n    \n  </div>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n});\n\nexport default connect(mapStateToProps)(CheckoutPage);\n"]},"metadata":{},"sourceType":"module"}