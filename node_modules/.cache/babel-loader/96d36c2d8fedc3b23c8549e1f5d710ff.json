{"ast":null,"code":"var _jsxFileName = \"/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx\";\nimport React from \"react\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\nimport { selectCartItems, selectCartTotal } from \"../../redux/cart/cart.selectors\";\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\n\nconst express = require('express');\n\nconst app = express(); // Set your secret key. Remember to switch to your live secret key in production!\n// See your keys here: https://dashboard.stripe.com/account/apikeys\n\nconst stripe = require('stripe')('sk_test_51HrpSlHc1kG6xYQZwQi5vlxctj1gNcwKVn86dXMU3R4nZGrnejV2YxBZ2CT76yQDvoDeoLCAEYrtlEifgkWdcG5R00InsnfA7d');\n\napp.post('/create-checkout-session', async (req, res) => {\n  const session = await stripe.checkout.sessions.create({\n    payment_method_types: ['card'],\n    line_items: [{\n      price_data: {\n        currency: 'usd',\n        product_data: {\n          name: 'T-shirt'\n        },\n        unit_amount: 2000\n      },\n      quantity: 1\n    }],\n    mode: 'payment',\n    success_url: 'https://example.com/success',\n    cancel_url: 'https://example.com/cancel'\n  });\n  res.json({\n    id: session.id\n  });\n});\napp.listen(4242, () => console.log(`Listening on port ${4242}!`));\nconst stripePromise = loadStripe('pk_test_JJ1eMdKN0Hp4UFJ6kWXWO4ix00jtXzq5XG');\n\nconst handleClick = async event => {\n  // Get Stripe.js instance\n  const stripe = await stripePromise; // Call your backend to create the Checkout Session\n\n  const response = await fetch('/create-checkout-session', {\n    method: 'POST'\n  });\n  const session = await response.json(); // When the customer clicks on the button, redirect them to Checkout.\n\n  const result = await stripe.redirectToCheckout({\n    sessionId: session.id\n  });\n\n  if (result.error) {// If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `result.error.message`.\n  }\n};\n\nconst CheckoutPage = ({\n  cartItems,\n  total\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-page\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"checkout-header\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }\n}, \"Product\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }\n}, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }\n}, \"Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }\n}, \"Price\")), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"header-block\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }\n}, \"Remove\"))), cartItems.map(cartItem => /*#__PURE__*/React.createElement(CheckoutItem, {\n  key: cartItem.id,\n  cartItem: cartItem,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"total\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 7\n  }\n}, \"TOTAL: \", total)), /*#__PURE__*/React.createElement(\"button\", {\n  id: \"checkout-button\",\n  onClick: handleClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }\n}, \"Checkout\"));\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal\n});\nexport default connect(mapStateToProps)(CheckoutPage);","map":{"version":3,"sources":["/home/amrik/Major Project/tiffinwala-master/src/pages/checkout/checkout.component.jsx"],"names":["React","Elements","loadStripe","connect","createStructuredSelector","CheckoutItem","selectCartItems","selectCartTotal","express","require","app","stripe","post","req","res","session","checkout","sessions","create","payment_method_types","line_items","price_data","currency","product_data","name","unit_amount","quantity","mode","success_url","cancel_url","json","id","listen","console","log","stripePromise","handleClick","event","response","fetch","method","result","redirectToCheckout","sessionId","error","CheckoutPage","cartItems","total","map","cartItem","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\n\nimport CheckoutItem from \"../../components/checkout-item/checkout-item.component\";\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n} from \"../../redux/cart/cart.selectors\";\n\nimport \"./checkout.styles.scss\";\n/* componentDidMount () {\n  const script = document.createElement(\"script\");\n\n  script.src = \"https://use.typekit.net/foobar.js\";\n  script.async = true;\n\n  document.body.appendChild(script);\n} */\nconst express = require('express');\nconst app = express();\n\n// Set your secret key. Remember to switch to your live secret key in production!\n// See your keys here: https://dashboard.stripe.com/account/apikeys\nconst stripe = require('stripe')('sk_test_51HrpSlHc1kG6xYQZwQi5vlxctj1gNcwKVn86dXMU3R4nZGrnejV2YxBZ2CT76yQDvoDeoLCAEYrtlEifgkWdcG5R00InsnfA7d');\n\napp.post('/create-checkout-session', async (req, res) => {\n  const session = await stripe.checkout.sessions.create({\n    payment_method_types: ['card'],\n    line_items: [\n      {\n        price_data: {\n          currency: 'usd',\n          product_data: {\n            name: 'T-shirt',\n          },\n          unit_amount: 2000,\n        },\n        quantity: 1,\n      },\n    ],\n    mode: 'payment',\n    success_url: 'https://example.com/success',\n    cancel_url: 'https://example.com/cancel',\n  });\n\n  res.json({ id: session.id });\n});\n\napp.listen(4242, () => console.log(`Listening on port ${4242}!`));\nconst stripePromise = loadStripe('pk_test_JJ1eMdKN0Hp4UFJ6kWXWO4ix00jtXzq5XG');\nconst handleClick = async (event) => {\n  // Get Stripe.js instance\n  const stripe = await stripePromise;\n\n  // Call your backend to create the Checkout Session\n  const response = await fetch('/create-checkout-session', { method: 'POST' });\n\n  const session = await response.json();\n\n  // When the customer clicks on the button, redirect them to Checkout.\n  const result = await stripe.redirectToCheckout({\n    sessionId: session.id,\n  });\n\n  if (result.error) {\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `result.error.message`.\n  }}\nconst CheckoutPage = ({ cartItems, total }) => (\n  <div className=\"checkout-page\">\n    <div className=\"checkout-header\">\n      <div className=\"header-block\">\n        <span>Product</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Description</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Quantity</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Price</span>\n      </div>\n      <div className=\"header-block\">\n        <span>Remove</span>\n      </div>\n    </div>\n    {cartItems.map((cartItem) => (\n      <CheckoutItem key={cartItem.id} cartItem={cartItem} />\n    ))}\n    <div className=\"total\">\n      <span>TOTAL: {total}</span>\n     \n    </div>\n    \n    <button id=\"checkout-button\" onClick={handleClick}>Checkout</button>\n    \n    \n  </div>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n});\n\nexport default connect(mapStateToProps)(CheckoutPage);\n"]},"metadata":{},"sourceType":"module"}